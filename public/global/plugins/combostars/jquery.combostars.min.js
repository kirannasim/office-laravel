/* jquery.combostars.js: Turn select widgets into star rating widgets.
 * Copyright (c) 2015 John Parsons.
 * This software may be modified and distributed under the terms of the MIT license. See the LICENSE file for details. */
$(function(){var t=function(t,i){return"0 "+(i?"0":"-"+t+"px")};$.fn.combostars=function(i){"use strict";var a={starUrl:"../src/img/stars.png",starWidth:16,starHeight:15,clickMiddle:!0};$.extend(a,i);var s,r,n=this.children().length,d=$("<span />").addClass("combostar-wrapper"),o=this;if(this.length>1)return this.each(function(){$(this).combostars(i)}),this;var c=function(){var i=$(this).data("star-index"),s=o.find("option:nth-child("+i+")").attr("value");o.val(s),o.change(),d.find(".combostar-star").each(function(){$(this).css("background-position",t(a.starHeight,$(this).data("star-index")<=i))})};for(d=this.wrap(d).parent(),this.hide(),s=1;n>=s;s++)r=$("<div />").css({display:"inline","padding-left":a.starWidth+"px","padding-top":a.starHeight+"px","padding-right":0,"padding-bottom":0,"background-image":"url("+a.starUrl+")","background-position":t(a.starHeight,!1),"font-size":0,cursor:"pointer"}).addClass("combostar-star").data("star-index",s).on("click",c),d.append(r),a.clickMiddle&&s===Math.round(n/2)&&r.click();return this}});